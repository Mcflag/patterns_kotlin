## kotlin中的设计模式

### 创建型模式

提供创建对象的同时隐藏创建逻辑的方式，而不是直接实例化一个对象。这使得程序在创建实例时更加灵活。

#### 单例模式

单例模式是为了保证一个类仅有一个实例，并提供一个全局的访问方式。

主要实现是判断系统是否已经生成了实例，如果有则直接返回，如果没有则创建。

在kotlin中单例声明直接使用object关键字进行对象声明：

    object PrinterDriver{}
    
对象声明的初始化过程是线程安全的。如果需要引用该对象直接使用其名称即可。

#### 简单工厂模式

简单工厂模式是由单一的一个工厂对象决定创建出哪一种产品类的实例。但是很明显该工厂类集中了所有实例的创建逻辑，这违反了高内聚的责任分配原则。

#### 工厂方法模式

在工厂方法模式中，核心的工厂类不再负责所有产品的创建，而是将具体创建的工作交给子类去做。

该核心类成为一个抽象工厂角色，仅负责给出具体工厂子类必须实现的接口，而不接触哪一个产品类应当被实例化这种细节。

与简单工厂模式相比，简单工厂模式是一个单一的工厂类，而工厂方法模式下一个产品对应一个工厂。

#### 抽象工厂

抽象工厂主要的目的是围绕一个超级工厂创建其他的工厂。抽象工厂模式提供一个接口，用于创建相关或依赖对象的家族，而不需要明确指定具体类。

可以考虑虚拟形象换皮肤的情况，有上衣、下装、背景等等，但是换的时候也可以一整套一整套的换。

与工厂方法模式相比，如果只有一个产品族，可以用工厂方法模式，只要有多于一个的产品族，就可以使用抽象工厂模式。

#### Builder模式

使用多个简单的对象一步一步构造成一个复杂的对象，Builder模式在Android中经常见到，比如创建一个AlertDialog。

与工厂方法不同之处在于，工厂方法不关心创建过程，只关心由哪个工厂创建。但是Builder模式关心组装各个零配件而产生一个新的产品，并且还可以关注组装的顺序和细节。


